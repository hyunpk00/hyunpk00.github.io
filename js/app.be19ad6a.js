(function(){"use strict";var e={9466:function(e,t,o){var i=o(5130),a=o(6768);function l(e,t,o,i,l,n){const s=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(s)}var n={name:"App"},s=o(1241);const r=(0,s.A)(n,[["render",l]]);var u=r,c=(o(8992),o(7550),o(1387));const d={id:"app"},v={id:"container"};function g(e,t,o,i,l,n){const s=(0,a.g2)("AppHeader"),r=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(s),(0,a.Lk)("div",v,[(0,a.bF)(r)])])}var p=o(4232);const h={id:"container"},m={class:"header-left"},f={class:"logo"},k={class:"nav-links desktop-nav"},b={class:"header-right"};function w(e,t,o,i,l,n){const s=(0,a.g2)("font-awesome-icon"),r=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("header",{class:(0,p.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,a.Lk)("div",m,[(0,a.Lk)("div",f,[(0,a.bF)(r,{to:"/"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,a.Lk)("nav",k,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("홈")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/popular"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("대세 콘텐츠")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/wishlist"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("내가 찜한 리스트")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/search"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("찾아보기")]))),_:1})])])])]),(0,a.Lk)("div",b,[(0,a.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>i.removeKey&&i.removeKey(...e))},[(0,a.bF)(s,{icon:["fas","user"]})]),(0,a.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[1]||(t[1]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,a.bF)(s,{icon:["fas","bars"]})])])],2),(0,a.Lk)("div",{class:(0,p.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,a.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,a.bF)(s,{icon:["fas","times"]})]),(0,a.Lk)("nav",null,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/",onClick:i.toggleMobileMenu},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("홈")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/popular",onClick:i.toggleMobileMenu},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/wishlist",onClick:i.toggleMobileMenu},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(r,{to:"/search",onClick:i.toggleMobileMenu},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)])}o(4114);var L=o(144),C=o(8950),y=o(292),E=o(2353);C.Yv.add(E.MjD,E.X46,E.ycA,E.ckx,E.GRI);var M={name:"AppHeader",components:{FontAwesomeIcon:y.gc},setup(){const e=(0,L.KR)(!1),t=(0,L.KR)(!1),o=(0,c.rd)(),i=()=>{e.value=window.scrollY>50},l=()=>{localStorage.removeItem("TMDb-Key"),o.push("/signin")},n=()=>{t.value=!t.value};return(0,a.sV)((()=>{window.addEventListener("scroll",i)})),(0,a.hi)((()=>{window.removeEventListener("scroll",i)})),{isScrolled:e,isMobileMenuOpen:t,removeKey:l,toggleMobileMenu:n}}};const R=(0,s.A)(M,[["render",w],["__scopeId","data-v-63475bcf"]]);var I=R,K={name:"HomeVue",components:{AppHeader:I}};const W=(0,s.A)(K,[["render",g],["__scopeId","data-v-040f9aac"]]);var _=W;const P={class:"container"},F={id:"phone"},S={id:"content-wrapper"},T={class:"checkbox remember"},X=["disabled"],O={class:"checkbox remember"},U=["disabled"];function A(e,t,o,l,n,s){return(0,a.uX)(),(0,a.CE)("div",null,[t[33]||(t[33]=(0,a.Lk)("div",{class:"bg-image"},null,-1)),(0,a.Lk)("div",P,[(0,a.Lk)("div",F,[(0,a.Lk)("div",S,[(0,a.Lk)("div",{class:(0,p.C4)(["card",{hidden:!l.isLoginVisible}]),id:"login"},[(0,a.Lk)("form",{onSubmit:t[7]||(t[7]=(0,i.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,a.Lk)("h1",null,"Sign in",-1)),(0,a.Lk)("div",{class:(0,p.C4)(["input",{active:l.isEmailFocused||l.email}])},[(0,a.bo)((0,a.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),onFocus:t[1]||(t[1]=e=>l.focusInput("email")),onBlur:t[2]||(t[2]=e=>l.blurInput("email"))},null,544),[[i.Jo,l.email]]),t[21]||(t[21]=(0,a.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,a.Lk)("div",{class:(0,p.C4)(["input",{active:l.isPasswordFocused||l.password}])},[(0,a.bo)((0,a.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),onFocus:t[4]||(t[4]=e=>l.focusInput("password")),onBlur:t[5]||(t[5]=e=>l.blurInput("password"))},null,544),[[i.Jo,l.password]]),t[22]||(t[22]=(0,a.Lk)("label",{for:"password"},"Password",-1))],2),(0,a.Lk)("span",T,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>l.rememberMe=e)},null,512),[[i.lH,l.rememberMe]]),t[23]||(t[23]=(0,a.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,a.Lk)("span",{class:"checkbox forgot"},[(0,a.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,a.Lk)("button",{disabled:!l.isLoginFormValid},"Login",8,X)],32),(0,a.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>l.toggleCard&&l.toggleCard(...e))},t[26]||(t[26]=[(0,a.eW)(" Don't have an account? "),(0,a.Lk)("b",null,"Sign up",-1)]))],2),(0,a.Lk)("div",{class:(0,p.C4)(["card",{hidden:l.isLoginVisible}]),id:"register"},[(0,a.Lk)("form",{onSubmit:t[19]||(t[19]=(0,i.D$)(((...e)=>l.handleRegister&&l.handleRegister(...e)),["prevent"]))},[t[31]||(t[31]=(0,a.Lk)("h1",null,"Sign up",-1)),(0,a.Lk)("div",{class:(0,p.C4)(["input",{active:l.isRegisterEmailFocused||l.registerEmail}])},[(0,a.bo)((0,a.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>l.registerEmail=e),onFocus:t[10]||(t[10]=e=>l.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>l.blurInput("registerEmail"))},null,544),[[i.Jo,l.registerEmail]]),t[27]||(t[27]=(0,a.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,a.Lk)("div",{class:(0,p.C4)(["input",{active:l.isRegisterPasswordFocused||l.registerPassword}])},[(0,a.bo)((0,a.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>l.registerPassword=e),onFocus:t[13]||(t[13]=e=>l.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>l.blurInput("registerPassword"))},null,544),[[i.Jo,l.registerPassword]]),t[28]||(t[28]=(0,a.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,a.Lk)("div",{class:(0,p.C4)(["input",{active:l.isConfirmPasswordFocused||l.confirmPassword}])},[(0,a.bo)((0,a.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>l.confirmPassword=e),onFocus:t[16]||(t[16]=e=>l.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>l.blurInput("confirmPassword"))},null,544),[[i.Jo,l.confirmPassword]]),t[29]||(t[29]=(0,a.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,a.Lk)("span",O,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>l.acceptTerms=e)},null,512),[[i.lH,l.acceptTerms]]),t[30]||(t[30]=(0,a.Lk)("label",{for:"terms",class:"read-text"},[(0,a.eW)(" I have read "),(0,a.Lk)("b",null,"Terms and Conditions")],-1))]),(0,a.Lk)("button",{disabled:!l.isRegisterFormValid},"Register",8,U)],32),(0,a.Lk)("a",{href:"javascript:void(0)",id:"gotologin",class:"account-check",onClick:t[20]||(t[20]=(...e)=>l.toggleCard&&l.toggleCard(...e))},t[32]||(t[32]=[(0,a.eW)(" Already have an account? "),(0,a.Lk)("b",null,"Sign in",-1)]))],2)])])])])}o(2577);const V=(e,t,o,i,a=!0)=>{const l=JSON.parse(localStorage.getItem("users"))||[],n=l.find((o=>o.id===e&&o.password===t));n?(a&&localStorage.setItem("TMDb-Key",n.password),o(n)):i()},x=(e,t,o,i)=>{try{const i=JSON.parse(localStorage.getItem("users"))||[],a=i.some((t=>t.id===e));if(a)throw new Error("User already exists");const l={id:e,password:t};i.push(l),localStorage.setItem("users",JSON.stringify(i)),o()}catch(a){i(a)}};var j={setup(){const e=(0,c.rd)(),t=(0,L.KR)(!0),o=(0,L.KR)(""),i=(0,L.KR)(""),l=(0,L.KR)(""),n=(0,L.KR)(""),s=(0,L.KR)(""),r=(0,L.KR)(!1),u=(0,L.KR)(!1),d=(0,L.KR)(!1),v=(0,L.KR)(!1),g=(0,L.KR)(!1),p=(0,L.KR)(!1),h=(0,L.KR)(!1),m=(0,a.EW)((()=>o.value&&i.value)),f=(0,a.EW)((()=>l.value&&n.value&&s.value&&n.value===s.value&&u.value)),k=()=>{t.value=!t.value},b=e=>{switch(e){case"email":d.value=!0;break;case"password":v.value=!0;break;case"registerEmail":g.value=!0;break;case"registerPassword":p.value=!0;break;case"confirmPassword":h.value=!0;break}},w=e=>{switch(e){case"email":d.value=!1;break;case"password":v.value=!1;break;case"registerEmail":g.value=!1;break;case"registerPassword":p.value=!1;break;case"confirmPassword":h.value=!1;break}},C=()=>{V(o.value,i.value,(t=>{alert(`Welcome, ${t.id}!`),e.push("/")}),(()=>{alert("Invalid email or password")}))},y=()=>{x(l.value,n.value,(()=>{alert("Registration successful! Please sign in."),k()}),(e=>{alert(e.message||"Registration failed")}))};return{isLoginVisible:t,email:o,password:i,registerEmail:l,registerPassword:n,confirmPassword:s,rememberMe:r,acceptTerms:u,isEmailFocused:d,isPasswordFocused:v,isRegisterEmailFocused:g,isRegisterPasswordFocused:p,isConfirmPasswordFocused:h,isLoginFormValid:m,isRegisterFormValid:f,toggleCard:k,focusInput:b,blurInput:w,handleLogin:C,handleRegister:y}}};const B=(0,s.A)(j,[["render",A],["__scopeId","data-v-67cfc370"]]);var $=B;const D={class:"home"};function z(e,t,o,i,l,n){const s=(0,a.g2)("Banner"),r=(0,a.g2)("MovieRow");return(0,a.uX)(),(0,a.CE)("div",D,[(0,a.bF)(s,{movie:i.featuredMovie},null,8,["movie"]),(0,a.bF)(r,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,a.bF)(r,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,a.bF)(r,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}var H=o(4373);const J=async e=>{try{const t=await H.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){console.error("Error fetching featured movie:",t)}},Q=(e,t=1)=>`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`,q=(e,t=2)=>`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`,G=(e,t,o=1)=>`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${o}`,N={class:"banner-content"};function Y(e,t,o,i,l,n){return o.movie?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"banner",style:(0,p.Tr)({backgroundImage:"url("+n.backdropUrl+")"})},[(0,a.Lk)("div",N,[(0,a.Lk)("h1",null,(0,p.v_)(o.movie.title),1),(0,a.Lk)("p",null,(0,p.v_)(o.movie.overview),1),t[0]||(t[0]=(0,a.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,a.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,a.Q3)("",!0)}var Z={name:"BannerVue",props:{movie:{type:Object,required:!0}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}}};const ee=(0,s.A)(Z,[["render",Y],["__scopeId","data-v-1fb4a647"]]);var te=ee;const oe={class:"movie-row"},ie=["disabled"],ae={class:"slider-window",ref:"sliderWindow"},le=["onClick"],ne=["src","alt"],se={key:0,class:"wishlist-indicator"},re=["disabled"];function ue(e,t,o,l,n,s){return(0,a.uX)(),(0,a.CE)("div",oe,[(0,a.Lk)("h2",null,(0,p.v_)(o.title),1),(0,a.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(0,i.D$)(((...e)=>l.handleWheel&&l.handleWheel(...e)),["prevent"])),onTouchstart:t[3]||(t[3]=(...e)=>l.handleTouchStart&&l.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>l.handleTouchMove&&l.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>l.handleTouchEnd&&l.handleTouchEnd(...e)),onMousemove:t[6]||(t[6]=e=>l.showButtons=!0),onMouseleave:t[7]||(t[7]=e=>l.showButtons=!1)},[(0,a.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>l.slide("left")),style:(0,p.Tr)({opacity:l.showButtons&&!l.atLeftEdge?1:0}),disabled:l.atLeftEdge}," < ",12,ie),(0,a.Lk)("div",ae,[(0,a.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,p.Tr)({transform:"translateX("+-l.scrollAmount+"px)"})},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onClick:t=>l.toggleWishlist(e)},[(0,a.Lk)("img",{src:l.getImageUrl(e.poster_path),alt:e.title},null,8,ne),l.isInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",se,"👍")):(0,a.Q3)("",!0)],8,le)))),128))],4)],512),(0,a.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>l.slide("right")),style:(0,p.Tr)({opacity:l.showButtons&&!l.atRightEdge?1:0}),disabled:l.atRightEdge}," > ",12,re)],32)])}function ce(){const e=(0,L.KR)([]),t=()=>{const t=localStorage.getItem("movieWishlist");t&&(e.value=JSON.parse(t))},o=()=>{localStorage.setItem("movieWishlist",JSON.stringify(e.value))},i=t=>{const i=e.value.findIndex((e=>e.id===t.id));-1===i?e.value.push(t):e.value.splice(i,1),o()},a=t=>e.value.some((e=>e.id===t)),l=()=>e.value;return t(),{wishlist:e,loadWishlist:t,toggleWishlist:i,isInWishlist:a,getWishlist:l}}var de={name:"MovieRow",props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,L.KR)([]),o=(0,L.KR)(0),i=(0,L.KR)(!1),l=(0,L.KR)(0),n=(0,L.KR)(0),s=(0,L.KR)(0),r=(0,L.KR)(null),u=(0,L.KR)(null),{toggleWishlist:c,isInWishlist:d}=ce(),v=(0,a.EW)((()=>o.value<=0)),g=(0,a.EW)((()=>o.value>=s.value)),p=async()=>{try{const o=await fetch(e.fetchUrl),i=await o.json();t.value=i.results,C()}catch(o){console.error("Error fetching movies:",o)}},h=e=>`https://image.tmdb.org/t/p/w300${e}`,m=e=>{const t=.8*u.value.clientWidth;o.value="left"===e?Math.max(0,o.value-t):Math.min(s.value,o.value+t)},f=e=>{e.preventDefault();const t=.2*u.value.clientWidth;e.deltaY>0?o.value=Math.min(s.value,o.value+t):o.value=Math.max(0,o.value-t)},k=e=>{l.value=e.touches[0].clientX},b=e=>{n.value=e.touches[0].clientX},w=()=>{const e=l.value-n.value,t=50;if(Math.abs(e)>t){const t=e>0?"right":"left";m(t)}},C=()=>{r.value&&u.value&&(s.value=Math.max(0,r.value.scrollWidth-u.value.clientWidth))},y=()=>{C(),o.value=Math.min(o.value,s.value)};return(0,a.sV)((()=>{p(),window.addEventListener("resize",y),C()})),(0,a.xo)((()=>{window.removeEventListener("resize",y)})),{movies:t,scrollAmount:o,showButtons:i,slider:r,sliderWindow:u,atLeftEdge:v,atRightEdge:g,fetchMovies:p,getImageUrl:h,slide:m,handleWheel:f,handleTouchStart:k,handleTouchMove:b,handleTouchEnd:w,toggleWishlist:c,isInWishlist:d}}};const ve=(0,s.A)(de,[["render",ue],["__scopeId","data-v-be5d4dce"]]);var ge=ve,pe={name:"HomeMain",components:{Banner:te,MovieRow:ge},setup(){const e=E.MjD,t=E.X46,o=localStorage.getItem("TMDb-Key")||"",i=(0,L.KR)(null),l=(0,L.KR)(""),n=(0,L.KR)(""),s=(0,L.KR)("");l.value=Q(o),n.value=q(o),s.value=G(o,"28");const r=async()=>{try{i.value=await J(o)}catch(e){console.error("Error loading featured movie:",e)}},u=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return(0,a.sV)((()=>{r(),window.addEventListener("scroll",u),setInterval((()=>{}),1e3)})),(0,a.xo)((()=>{window.removeEventListener("scroll",u)})),{faSearchIcon:e,faUserIcon:t,featuredMovie:i,popularMoviesUrl:l,newReleasesUrl:n,actionMoviesUrl:s}}};const he=(0,s.A)(pe,[["render",z],["__scopeId","data-v-622d2eeb"]]);var me=he;function fe(e,t,o,i,l,n){const s=(0,a.g2)("MovieWishlist");return(0,a.uX)(),(0,a.Wv)(s)}const ke={class:"movie-grid",ref:"gridContainer"},be=["onClick"],we=["src","alt"],Le={class:"movie-title"},Ce={key:0,class:"empty-wishlist"},ye={key:1,class:"pagination"},Ee=["disabled"],Me=["disabled"];function Re(e,t,o,i,l,n){return(0,a.uX)(),(0,a.CE)("div",ke,[(0,a.Lk)("div",{class:(0,p.C4)(["grid-container",e.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.visibleWishlistMovies,((o,i)=>((0,a.uX)(),(0,a.CE)("div",{key:i,class:(0,p.C4)(["movie-row",{full:o.length===e.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o,(o=>((0,a.uX)(),(0,a.CE)("div",{key:o.id,class:"movie-card",onClick:t=>e.toggleWishlist(o)},[(0,a.Lk)("img",{src:e.getImageUrl(o.poster_path),alt:o.title},null,8,we),(0,a.Lk)("div",Le,(0,p.v_)(o.title),1),t[2]||(t[2]=(0,a.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,be)))),128))],2)))),128))],2),0===e.wishlistMovies.length?((0,a.uX)(),(0,a.CE)("div",Ce," 위시리스트가 비어 있습니다. ")):(0,a.Q3)("",!0),e.totalPages>1?((0,a.uX)(),(0,a.CE)("div",ye,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.prevPage&&e.prevPage(...t)),disabled:1===e.currentPage},"< 이전",8,Ee),(0,a.Lk)("span",null,(0,p.v_)(e.currentPage)+" / "+(0,p.v_)(e.totalPages),1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.nextPage&&e.nextPage(...t)),disabled:e.currentPage===e.totalPages},"다음 >",8,Me)])):(0,a.Q3)("",!0)],512)}o(8872);var Ie=(0,a.pM)({name:"MovieWishlist",setup(){const e=(0,L.KR)(null),t=(0,L.KR)(4),o=(0,L.KR)(20),i=(0,L.KR)(1),l=(0,L.KR)(window.innerWidth<=768),n=(0,L.KR)("grid"),s=(0,L.KR)([]),{wishlist:r,toggleWishlist:u}=ce(),c=()=>{s.value=r.value},d=()=>{if(e.value){const i=e.value,a=i.offsetWidth,n=window.innerHeight-i.offsetTop,s=l.value?90:220,r=l.value?150:330,u=l.value?10:15,c=-10;t.value=Math.floor(a/(s+u));const d=Math.floor(n/(r+c));o.value=t.value*d,m()}},v=(0,a.EW)((()=>{const e=(i.value-1)*o.value,a=e+o.value,l=s.value.slice(e,a);return l.reduce(((e,o,i)=>{const a=Math.floor(i/t.value);return e[a]||(e[a]=[]),e[a].push(o),e}),[])})),g=(0,a.EW)((()=>Math.ceil(s.value.length/o.value))),p=()=>{i.value<g.value&&(i.value++,m())},h=()=>{i.value>1&&(i.value--,m())},m=()=>{c()},f=()=>{l.value=window.innerWidth<=768,d()};(0,a.sV)((()=>{c(),d(),window.addEventListener("resize",f)})),(0,a.hi)((()=>{window.removeEventListener("resize",f)}));const k=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg";return{gridContainer:e,currentView:n,rowSize:t,visibleWishlistMovies:v,wishlistMovies:s,totalPages:g,currentPage:i,nextPage:p,prevPage:h,toggleWishlist:u,getImageUrl:k}}});const Ke=(0,s.A)(Ie,[["render",Re],["__scopeId","data-v-859cc54e"]]);var We=Ke,_e={name:"HomeWishlist",components:{MovieWishlist:We}};const Pe=(0,s.A)(_e,[["render",fe]]);var Fe=Pe;const Se={class:"container-search"},Te={class:"container-search-bar"},Xe={class:"content-search"};function Oe(e,t,o,i,l,n){const s=(0,a.g2)("MovieSearch"),r=(0,a.g2)("MovieInfiniteScroll");return(0,a.uX)(),(0,a.CE)("div",Se,[(0,a.Lk)("div",Te,[(0,a.bF)(s,{onChangeOptions:e.changeOptions},null,8,["onChangeOptions"])]),(0,a.Lk)("div",Xe,[(0,a.bF)(r,{apiKey:e.apiKey,genreCode:e.genreId,sortingOrder:e.sortId,voteEverage:e.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const Ue={class:"dropdown-container"},Ae=["onClick"],Ve={key:0,class:"select-items"},xe=["onClick"];function je(e,t,o,i,l,n){return(0,a.uX)(),(0,a.CE)("div",Ue,[t[1]||(t[1]=(0,a.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.dropdownEntries,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.key,class:"custom-select"},[(0,a.Lk)("div",{class:"select-selected",onClick:o=>e.toggleDropdown(t.key)},(0,p.v_)(e.selectedOptions[t.key]),9,Ae),e.activeDropdown===t.key?((0,a.uX)(),(0,a.CE)("div",Ve,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.options,(o=>((0,a.uX)(),(0,a.CE)("div",{key:o,onClick:i=>e.selectOption(t.key,o)},(0,p.v_)(o),9,xe)))),128))])):(0,a.Q3)("",!0)])))),128)),(0,a.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...t)=>e.clearOptions&&e.clearOptions(...t))},"초기화")])}o(1454);var Be=(0,a.pM)({name:"MovieSearch",emits:["changeOptions"],setup(e,{emit:t}){const o={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},l=(0,L.KR)({...i}),n=(0,L.KR)(null),s=(0,a.EW)((()=>Object.entries(o).map((([e,t])=>({key:e,options:t}))))),r=e=>{n.value=n.value===e?null:e},u=(e,o)=>{l.value={...l.value,[e]:o},n.value=null,t("changeOptions",l.value)},c=()=>{l.value={...i},t("changeOptions",l.value)};return{dropdownEntries:s,selectedOptions:l,activeDropdown:n,toggleDropdown:r,selectOption:u,clearOptions:c}}});const $e=(0,s.A)(Be,[["render",je],["__scopeId","data-v-407ab51a"]]);var De=$e;const ze={class:"movie-grid",ref:"gridContainer"},He=["onMouseup"],Je=["src","alt"],Qe={class:"movie-title"},qe={key:0,class:"wishlist-indicator"},Ge={class:"loading-trigger",ref:"loadingTrigger"},Ne={key:0,class:"loading-indicator"};function Ye(e,t,o,i,l,n){return(0,a.uX)(),(0,a.CE)("div",ze,[(0,a.Lk)("div",{class:(0,p.C4)(["grid-container",e.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.visibleMovieGroups,((t,o)=>((0,a.uX)(),(0,a.CE)("div",{key:o,class:(0,p.C4)(["movie-row",{full:t.length===e.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"movie-card",onMouseup:o=>e.toggleWishlist(t)},[(0,a.Lk)("img",{src:e.getImageUrl(t.poster_path),alt:t.title,loading:"lazy"},null,8,Je),(0,a.Lk)("div",Qe,(0,p.v_)(t.title),1),e.isInWishlist(t.id)?((0,a.uX)(),(0,a.CE)("div",qe,"👍")):(0,a.Q3)("",!0)],40,He)))),128))],2)))),128))],2),(0,a.Lk)("div",Ge,[e.isLoading?((0,a.uX)(),(0,a.CE)("div",Ne,t[1]||(t[1]=[(0,a.Lk)("div",{class:"spinner"},null,-1),(0,a.Lk)("span",null,"Loading...",-1)]))):(0,a.Q3)("",!0)],512),e.showTopButton?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"top-button","aria-label":"맨 위로 이동",onClick:t[0]||(t[0]=(...t)=>e.scrollToTopAndReset&&e.scrollToTopAndReset(...t))}," Top ")):(0,a.Q3)("",!0)],512)}o(4520);var Ze=(0,a.pM)({name:"MovieInfiniteScroll",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const{toggleWishlist:t,isInWishlist:o}=ce(),i=(0,L.KR)([]),l=(0,L.KR)(1),n=(0,L.KR)(4),s=(0,L.KR)(!1),r=(0,L.KR)(!0),u=(0,L.KR)(!1),c=(0,L.KR)(null),d=(0,L.KR)(null),v=(0,L.KR)(window.innerWidth<=768),g=(0,L.KR)(null),p=async()=>{if(!s.value&&r.value){s.value=!0;try{const t="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",o={api_key:e.apiKey,language:"ko-KR",page:l.value};"0"!==e.genreCode&&Object.assign(o,{with_genres:e.genreCode});const a=await H.A.get(t,{params:o}),n=a.data.results;if(n.length>0){let t=[...i.value,...n];"all"!==e.sortingOrder&&(t=t.filter((t=>t.original_language===e.sortingOrder))),t=t.filter((t=>-1===e.voteEverage||(-2===e.voteEverage?t.vote_average<=4:t.vote_average>=e.voteEverage&&t.vote_average<e.voteEverage+1))),i.value=t,l.value++}else r.value=!1}catch(t){console.error("Error fetching movies:",t)}finally{s.value=!1}}},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=(0,a.EW)((()=>i.value.reduce(((e,t,o)=>{const i=Math.floor(o/n.value);return e[i]||(e[i]=[]),e[i].push(t),e}),[]))),f=()=>{if(v.value=window.innerWidth<=768,c.value){const e=c.value.offsetWidth,t=v.value?100:300,o=v.value?10:15;n.value=Math.floor(e/(t+o))}},k=()=>{window.scrollTo({top:0,behavior:"smooth"}),b()},b=()=>{i.value=[],l.value=1,r.value=!0,p()},w=()=>{g.value=new IntersectionObserver((e=>{e[0].isIntersecting&&!s.value&&r.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&g.value.observe(d.value)};return(0,a.sV)((()=>{w(),p(),f(),window.addEventListener("resize",f)})),(0,a.hi)((()=>{window.removeEventListener("resize",f),g.value?.disconnect()})),{gridContainer:c,loadingTrigger:d,movies:i,visibleMovieGroups:m,isLoading:s,hasMore:r,showTopButton:u,fetchMovies:p,getImageUrl:h,toggleWishlist:t,isInWishlist:o,scrollToTopAndReset:k}}});const et=(0,s.A)(Ze,[["render",Ye],["__scopeId","data-v-3a48f1b1"]]);var tt=et,ot=(0,a.pM)({name:"HomeSearch",components:{MovieSearch:De,MovieInfiniteScroll:tt},setup(){const e=(0,L.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,L.KR)("28"),o=(0,L.KR)(-1),i=(0,L.KR)("all"),a={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},l={"언어 (전체)":"all","영어":"en","한국어":"ko"},n={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},s=e=>{t.value=`${a[e.originalLanguage]}`,o.value=n[e.translationLanguage],i.value=l[e.sorting]};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:s}}});const it=(0,s.A)(ot,[["render",Oe],["__scopeId","data-v-2d3fa5bb"]]);var at=it;const lt={class:"popular-container"},nt={class:"view-toggle"};function st(e,t,o,l,n,s){const r=(0,a.g2)("font-awesome-icon"),u=(0,a.g2)("movie-grid"),c=(0,a.g2)("movie-infinite-scroll");return(0,a.uX)(),(0,a.CE)("div",lt,[(0,a.Lk)("div",nt,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>l.setView("grid")),class:(0,p.C4)({active:"grid"===l.currentView})},[(0,a.bF)(r,{icon:l.faThIcon},null,8,["icon"])],2),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>l.setView("list")),class:(0,p.C4)({active:"list"===l.currentView})},[(0,a.bF)(r,{icon:l.faBarsIcon},null,8,["icon"])],2)]),(0,a.bo)((0,a.bF)(u,{title:"인기 영화","fetch-url":l.fetchURL},null,8,["fetch-url"]),[[i.aG,"grid"===l.currentView]]),(0,a.bo)((0,a.bF)(c,{"api-key":l.apiKey,"genre-code":"28","sorting-order":"all","vote-average":"-1"},null,8,["api-key"]),[[i.aG,"list"===l.currentView]])])}const rt={class:"movie-grid",ref:"gridContainer"},ut=["onMouseup"],ct=["src","alt"],dt={class:"movie-title"},vt={key:0,class:"wishlist-indicator"},gt={key:0,class:"pagination"},pt=["disabled"],ht=["disabled"];function mt(e,t,o,i,l,n){return(0,a.uX)(),(0,a.CE)("div",rt,[(0,a.Lk)("div",{class:(0,p.C4)(["grid-container",e.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.visibleMovieGroups,((t,o)=>((0,a.uX)(),(0,a.CE)("div",{key:o,class:"movie-row"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:"movie-card",onMouseup:o=>e.toggleWishlist(t)},[(0,a.Lk)("img",{src:e.getImageUrl(t.poster_path),alt:t.title},null,8,ct),(0,a.Lk)("div",dt,(0,p.v_)(t.title),1),e.isInWishlist(t.id)?((0,a.uX)(),(0,a.CE)("div",vt,"👍")):(0,a.Q3)("",!0)],40,ut)))),128))])))),128))],2),e.totalPages>1?((0,a.uX)(),(0,a.CE)("div",gt,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.prevPage&&e.prevPage(...t)),disabled:1===e.currentPage},"< 이전",8,pt),(0,a.Lk)("span",null,(0,p.v_)(e.currentPage)+" / "+(0,p.v_)(e.totalPages),1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.nextPage&&e.nextPage(...t)),disabled:e.currentPage===e.totalPages}," 다음 > ",8,ht)])):(0,a.Q3)("",!0)],512)}var ft=(0,a.pM)({name:"MovieGrid",props:{fetchUrl:{type:String,required:!0}},setup(e){const t=(0,L.KR)([]),o=(0,L.KR)(1),i=(0,L.KR)(4),l=(0,L.KR)(20),n=(0,L.KR)(window.innerWidth<=768),s=(0,L.KR)("grid"),r=(0,L.KR)(null),{toggleWishlist:u,isInWishlist:c}=ce(),d=async()=>{try{const o=120,i=Math.ceil(o/l.value);let a=[];for(let t=1;t<=i;t++){const o=await H.A.get(e.fetchUrl,{params:{page:t,per_page:l.value}});a=[...a,...o.data.results]}t.value=a.slice(0,o)}catch(o){console.error("Error fetching movies:",o)}},v=e=>`https://image.tmdb.org/t/p/w300${e}`,g=(0,a.EW)((()=>{const e=(o.value-1)*l.value,a=e+l.value,n=t.value.slice(e,a);return n.reduce(((e,t,o)=>{const a=Math.floor(o/i.value);return e[a]||(e[a]=[]),e[a].push(t),e}),[])})),p=(0,a.EW)((()=>Math.ceil(t.value.length/l.value))),h=()=>{o.value<p.value&&o.value++},m=()=>{o.value>1&&o.value--},f=()=>{if(r.value){const e=r.value.offsetWidth,t=window.innerHeight-r.value.offsetTop,o=n.value?90:200,a=n.value?150:220,s=n.value?10:15,u=-10;i.value=Math.floor(e/(o+s));const c=Math.floor(t/(a+u));l.value=i.value*c}},k=()=>{n.value=window.innerWidth<=768,f()};return(0,a.sV)((()=>{d(),f(),window.addEventListener("resize",k)})),(0,a.hi)((()=>{window.removeEventListener("resize",k)})),{movies:t,currentPage:o,totalPages:p,visibleMovieGroups:g,nextPage:h,prevPage:m,getImageUrl:v,toggleWishlist:u,isInWishlist:c,gridContainer:r,currentView:s}}});const kt=(0,s.A)(ft,[["render",mt],["__scopeId","data-v-42d746c0"]]);var bt=kt,wt={name:"HomePopular",components:{MovieGrid:bt,MovieInfiniteScroll:tt,FontAwesomeIcon:y.gc},setup(){const e=E.UTC,t=E.ckx,o=(0,L.KR)("grid"),i=(0,L.KR)(localStorage.getItem("TMDb-Key")||""),l=Q(i.value),n=e=>{o.value=e};return(0,a.sV)((()=>{document.body.style.overflow="hidden"})),{faThIcon:e,faBarsIcon:t,currentView:o,apiKey:i,fetchURL:l,setView:n}}};const Lt=(0,s.A)(wt,[["render",st],["__scopeId","data-v-6ac9d192"]]);var Ct=Lt;const yt=[{path:"/",component:_,meta:{requiresAuth:!0},children:[{path:"",component:me},{path:"popular",component:Ct},{path:"wishlist",component:Fe},{path:"search",component:at}]},{path:"/signin",name:"SignIn",component:$}],Et=(0,c.aE)({history:(0,c.Bt)(),routes:yt});Et.beforeEach(((e,t,o)=>{const i=null!==localStorage.getItem("TMDb-Key");e.matched.some((e=>e.meta.requiresAuth))?i?o():o({name:"SignIn"}):"SignIn"===e.name&&i?o({name:"/"}):o()}));var Mt=Et;const Rt=(0,i.Ef)(u);Rt.use(Mt),Rt.mount("#app")}},t={};function o(i){var a=t[i];if(void 0!==a)return a.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,i,a,l){if(!i){var n=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],l=e[c][2];for(var s=!0,r=0;r<i.length;r++)(!1&l||n>=l)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(s=!1,l<n&&(n=l));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,a,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,l,n=i[0],s=i[1],r=i[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(r)var c=r(o)}for(t&&t(i);u<n.length;u++)l=n[u],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},i=self["webpackChunkwsdhw2"]=self["webpackChunkwsdhw2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(9466)}));i=o.O(i)})();
//# sourceMappingURL=app.be19ad6a.js.map